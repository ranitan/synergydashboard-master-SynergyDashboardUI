<style>
    .rrmdasboard .card-box {
        position: relative;
        color: #fff;
        padding: 20px 10px 40px;
        margin: 20px 0px;
    }

    .rrmdasboard .card-box:hover {
        text-decoration: none;
        color: #f1f1f1;
    }

    .rrmdasboard .card-box:hover .icon i {
        font-size: 100px;
        transition: 1s;
        -webkit-transition: 1s;
    }

    .rrmdasboard .card-box .inner {
        padding: 5px 10px 0 30px;
    }

    .rrmdasboard .card-box h3 {
        font-size: 27px;
        font-weight: bold;
        margin: 0 0 8px 0;
        white-space: nowrap;
        padding: 0;
        text-align: left;
    }

    .rrmdasboard .card-box p {
        font-size: 15px;
    }

    .rrmdasboard .card-box .icon {
        position: absolute;
        top: auto;
        bottom: 5px;
        right: 5px;
        z-index: 0;
        font-size: 72px;
        color: rgba(0, 0, 0, 0.15);
    }

    .rrmdasboard .card-box .card-box-footer {
        position: absolute;
        left: 0px;
        bottom: 0px;
        text-align: center;
        padding: 3px 0;
        color: rgba(255, 255, 255, 0.8);
        background: rgba(0, 0, 0, 0.1);
        width: 100%;
        text-decoration: none;
    }

    .rrmdasboard .card-box .card-box-footer i {
        margin-left: .5rem;
    }

    .rrmdasboard .card-box:hover .card-box-footer {
        background: rgba(0, 0, 0, 0.3);
    }

    .rrmdasboard .bg-blue {
        background-color: darkcyan !important;
    }

    .rrmdasboard .bg-green {
        background-color: seagreen !important;
    }

    .rrmdasboard .bg-orange {
        background-color: orange !important;
    }

    .rrmdasboard .bg-red {
        background-color: #d9534f !important;
    }

    .btn.activeRRMBoard {
        background-color: #46ad46;
        color: #fff;
    }



    /* rrmdasboard css */
    html {
        font-size: 14px;
    }

    .card-box {
        height: 100%;
        border-radius: 0.3rem;
        color: #000;
        position: relative;
        min-height: 10rem;
        overflow: hidden;
        box-shadow: 0px 2px 7px -2px rgb(0 0 0 / 90%);
    }

    .card-box:hover {
        box-shadow: 0px 2px 7px -1px rgb(0 0 0 / 90%);
    }

    .card-box .card-count {
        font-size: 1.8rem;
        font-weight: 700;
    }

    .card-box .card-title {
        font-size: 0.85rem;
        font-weight: 500;
    }

    .card-box .card-link {
        position: absolute;
        bottom: 0;
        background: rgba(0, 0, 0, .1);
        width: 100%;
        left: 0;
        font-size: .75rem;
        text-align: center;
        color: #000;
        cursor: pointer;
    }

    .card-rrm {
        background: #551a8b;
    }

    .card-L1InterviewsConducted {
        background: #800080;
    }

    .card-L1InterviewRecommended {
        background: #000080;
    }

    .card-L1-not-recommended {
        background: #004C4D;
    }

    .card-L1-on-hold {
        background: #808000;
    }

    .card-L1-not-attended {
        background: #FF7F50;
    }

    .card-offer-dispatched {
        background: #dd9815;
    }

    .card-offer-rejected {
        background: #FF0000;
    }

    .card-candidates-onboard {
        background: #800000;
    }

    .card-internalRRM {
        background: #008000;
    }

    .card-int-recommended {
        background: #0000FF;
    }

    .card-L2InterviewsConducted {
        background: #c300c3;
    }

    .card-L2-Interviews-not-recommended {
        background: #487F7F;
    }

    .card-L2-on-hold {
        background: #b5a642;
    }

    .card-L2-not-attended {
        background: #bc4648;
    }



    .pill-capsule {
        background: #f1f1f1;
        display: inline-flex;
        align-items: center;
        font-size: 0.85rem;
        font-weight: 500;
        border-radius: 2rem;
        padding: 0 .8rem 0 0rem;
        opacity: 1;
        box-shadow: 1px 1px 2px -1px rgb(0 0 0 / 75%);
        margin: 0 1.5rem 0.5rem 0;
        cursor: pointer;
    }

    .pill-capsule:hover {
        box-shadow: 1px 1px 6px -2px rgb(0 0 0 / 75%);
    }

    .pill-capsule .pill-pic {
        max-width: 2.5rem;
        width: 100%;
        max-height: 2.5rem;
        background: #fff;
        border-radius: 50%;
        margin: 0 1rem 0 0;
        border: 2px solid #f1f1f1;
        box-shadow: 1px 1px 1px 0px rgb(0 0 0 / 20%);
        overflow: hidden;
    }

    .pill-capsule .pill-pic img {
        max-width: 100%;
        object-fit: cover;
        min-width: 2.5rem;
    }

    .pill-capsule .pill-text {
        white-space: nowrap;
        width: 100%;
        max-width: 12rem;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .rrmdasboard .commondashboardbox {
        display: flex;
        width: 100%;
    }

    .rrmdasboard .commondashboardbox .card-box {
        padding: 20px 0px 40px;
        margin: 20px 0px;
        height: 100%;
        width: 225px;
        display: flex;
        margin-right: 10px;
    }

    .commondashboardbox h5,
    .commondashboardbox p,
    .rrmdasboard .card-box .card-box-footer {
        font-size: 12px !important;
    }

    .rrmdasboard .card-box .inner {
        padding: 5px 10px 0 30px;
    }

    .interview-title {
        font-weight: 600;
        font-size: 20px;
        text-transform: uppercase;
        margin-top: 5px;
        margin-bottom: 0px;
    }

    @media (max-width: 767px) {
        .rrmdasboard .commondashboardbox .card-box {
            width: 100%;
            margin: 10px 0px;
        }

        .rrmdasboard .commondashboardbox {
            display: inline-block;
            width: 100%;
        }
    }

    @media only screen and (min-width:768px) and (max-width:991px) {
        .rrmdasboard .commondashboardbox {
            display: inline-block;
            width: 100%;
        }

        .rrmdasboard .commondashboardbox .card-box {
            padding: 20px 10px 40px;
            margin: 10px 10px;
            float: left;
            width: 46%;
        }
    }
</style>
<div class="rrmdasboard card-detail">
    <!-- Change the chart title here -->
    <span class="card-detail-title"><b>RRM DEPARTMENT DASHBOARD</b> </span>
    <hr />
    <!-- change the chart card id here -->
    <div class="row">
        <div class="col-md-2">
            <div class="form-group">
                <label>From Date</label>
                <div id="rrm_dashboard_fromDate"></div>
                <span class="error_message rrmdash_from_date_err"></span>
            </div>



        </div>
        <div class="col-md-2">
            <div class="form-group">
                <label>To Date</label>
                <div id="rrm_dashboard_toDate"></div>
                <span class="error_message rrmdash_to_date_err"></span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row form-group">
                <label>&nbsp;</label>
                <div class="d-flex align-items-center">
                    <button class="btn btn-sm" data-type="add" onclick="rrmDashBoardFilter();" id="rrmDashBoardFilter">
                        <i class="fa fa-search" aria-hidden="true"></i>&nbsp; Filter Range
                    </button>
                    <button class="btn btn-sm " data-type="add" onclick="rrmDashBoardToday();" id="rrmDashBoardToday">
                        <i class="fa fa-address-card" aria-hidden="true"></i>&nbsp; Today
                    </button>
                    <button class="btn btn-sm  " data-type="add" onclick="rrmDashBoardYesterday();"
                        id="rrmDashBoardYesterday">
                        <i class="fa fa-address-card" aria-hidden="true"></i>&nbsp; Yesterday
                    </button>
                    <!-- <button class="btn btn-sm" data-type="add" onclick="rrmDashBoardWeek();" id="rrmDashBoardWeek">
                    <i class="fa fa-calendar" aria-hidden="true"></i>&nbsp; This Week
                </button>
                <button class="btn btn-sm" data-type="add" onclick="rrmDashBoardMonth();" id="rrmDashBoardMonth">
                    <i class="fa fa-calendar" aria-hidden="true"></i>&nbsp; This Month
                </button> -->
                </div>

            </div>
        </div>
        <div>

        </div>

    </div>
    <div class="row row-eq-height">
        <div class="col-md-12 mb-3">
            <!-- <h3 class="interview-title">L1 Interviews Details</h3> -->
            <div class="commondashboardbox">
                <div class="card-box card-rrm">
                    <div class="inner">
                        <h3> <span id="totalRRMCount">0</span> </h3>
                        <h5> Total Active RRM </h5>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-money" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getRRMDataRRMDashBoard();">View More <i
                            class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-offer-dispatched">
                    <div class="inner">
                        <h3> <span id="OfferAccepted">0</span></h3>
                        <p> Offers Accepted </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-users"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getRRMOffersAcceptedDataRRMDashBoard();">View More <i
                            class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-offer-rejected">
                    <div class="inner">
                        <h3> <span id="OfferRejected">0</span></h3>
                        <p> Offers Rejected </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-users"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getRRMOffersRejectedDataRRMDashBoard();">View More <i
                            class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-candidates-onboard">
                    <div class="inner">
                        <h3> <span id="CandidatesOnBoard">0</span> </h3>
                        <p> Candidates OnBoard </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-users"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getInterviewsOnBoardRRMDashBoard();">View More
                        <i class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-internalRRM">
                    <div class="inner">
                        <h3> <span id="InternalRRM">0</span> </h3>
                        <p> Internal RRMs </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-users"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getInternalRRMDashBoard();">View More
                        <i class="fa fa-arrow-circle-right"></i></a>
                </div>




            </div>
        </div>
    </div>
    <div class="row row-eq-height">
        <div class="col-md-12 mb-3">
            <h3 class="interview-title">L1 Interview Details</h3>
            <div class="commondashboardbox">


                <div class="card-box card-L1InterviewsConducted">
                    <div class="inner">
                        <h3> <span id="L1InterviewsConducted">0</span> </h3>
                        <p> L1 Interviews Conducted </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-graduation-cap" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL1InterviewsConductedDataRRMDashBoard();">View
                        More<i class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-L1InterviewRecommended">
                    <div class="inner">
                        <h3> <span id="L1InterviewRecommended">0</span> </h3>
                        <p> L1 Interviews Recommended </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL1InterviewsRecommendedDataRRMDashBoard();">View
                        More <i class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-L1-not-recommended">
                    <div class="inner">
                        <h3> <span id="L1InterviewNotRecommendedCount">0</span> </h3>
                        <p> L1 Interviews Not Recommended </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL1InterviewsNotRecommendedDataRRMDashBoard();">View
                        More <i class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-L1-on-hold">
                    <div class="inner">
                        <h3> <span id="L1InterviewOnHold">0</span> </h3>
                        <p> L1 Interviews On Hold</p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL1InterviewsOnHoldDataRRMDashBoard();">View More <i
                            class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-L1-not-attended">
                    <div class="inner">
                        <h3> <span id="L1InterviewNotAttended">0</span> </h3>
                        <p> L1 Interviews Not Attended </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL1InterviewsNotAttendedDataRRMDashBoard();">View
                        More <i class="fa fa-arrow-circle-right"></i></a>
                </div>

            </div>
        </div>
    </div>
    <div class="row row-eq-height">
        <div class="col-md-12 mb-3">
            <h3 class="interview-title">L2 Interview Details</h3>
            <div class="commondashboardbox">

                <div class="card-box card-L2InterviewsConducted">
                    <div class="inner">
                        <h3> <span id="L2InterviewsConducted">0</span> </h3>
                        <p> L2 Interviews Conducted </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL2InterviewsConductedDataRRMDashBoard();">View More
                        <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                <div class="card-box card-int-recommended">
                    <div class="inner">
                        <h3> <span id="L2InterviewsRecommended">0</span> </h3>
                        <p> L2 Interviews Recommended </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL2InterviewsRecommendedDataRRMDashBoard();">View
                        More <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                <div class="card-box card-L2-Interviews-not-recommended">
                    <div class="inner">
                        <h3> <span id="L2InterviewsNotRecommended">0</span></h3>
                        <p> L2 Interviews Not Recommended</p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-users"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL2InterviewsNotRecommendedDataRRMDashBoard();">View
                        More <i class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-L2-on-hold">
                    <div class="inner">
                        <h3> <span id="L2InterviewOnHold">0</span> </h3>
                        <p> L2 Interviews On Hold</p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL2InterviewsOnHoldDataRRMDashBoard();">View More <i
                            class="fa fa-arrow-circle-right"></i></a>
                </div>

                <div class="card-box card-L2-not-attended">
                    <div class="inner">
                        <h3> <span id="L2InterviewNotAttended">0</span> </h3>
                        <p> L2 Interviews Not Attended </p>
                    </div>
                    <div class="icon">
                        <!-- <i class="fa fa-user-plus" aria-hidden="true"></i> -->
                    </div>
                    <a href="#" class="card-box-footer" onclick="getL2InterviewsNotAttendedDataRRMDashBoard();">View
                        More <i class="fa fa-arrow-circle-right"></i></a>
                </div>


            </div>
        </div>
    </div>
    <!-- started -->
    <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12" style="display:none">
            <div class="form-group">
                <div class="row">

                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                        <div class="" id="rrmdashboard_overallrrmsummary"></div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                        <div class="" id="rrmdashboard_openrequirementssummary"></div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                        <div class="" id="rrmdashboard_rrmstartedworking"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-12 col-lg-12 col-md-12" style="display:none">
            <div class="form-group">
                <div class="row">
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                        <div id="rrmdashboard_overallinterviewsummary"></div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                        <div id="rrmdashboard_losingrevenuerequirements"></div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                        <div id="rrmdashboard_overallinterviewandofferssummary"></div>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xl-12 col-lg-12 col-md-12">
            <div id="rrmdashboard_recruiterssummary"></div>
        </div>
    </div>
    <!-- end -->
    <div class="row" style="display: none;">
        <div class="col-md-12">

            <ul id="myTab" class="nav nav-tabs">
                <li class="active"><a href="#rrmdashboard_rrmstats" data-target="#rrmdashboard_rrmstats"
                        data-toggle="tab">RRM Stats</a></li>
                <li><a href="#rrmdashboard_recruiterstats" data-target="#rrmdashboard_recruiterstats" data-toggle="tab"
                        id="recruitersStatsTab">Recruiter Stats</a></li>
                <li><a href="#rrmDashboard_rrmfeeds" data-target="#rrmDashboard_rrmfeeds" data-toggle="tab">RRM
                        Feeds</a></li>
            </ul>

        </div>
    </div>
    <div class="row" style="display: none;">
        <div class="col-md-12">

            <div id="myTabContent" class="tab-content">
                <div class="tab-pane in active" id="rrmdashboard_rrmstats">
                    <div id="rrmdashboard_rrmstatshtml"></div>
                </div>
                <div class="tab-pane fade in " id="rrmdashboard_recruiterstats">
                    <div id="rrmdashboard_recruiterstatshtml"></div>
                </div>
                <div class="tab-pane fade in" id="rrmDashboard_rrmfeeds">
                    <div id="rrmDashboard_rrmfeeds"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<div class="modal fade" id="rrmDashboardDetailsModal" tabindex="1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <button class="expand modalExpanding"><i class="fas fa-expand" data-toggle="modal"></i></button>
                <h2 class="modal-title leave-label" id="rrmDashBoardModalLabel"></h2>
            </div>
            <div class="modal-body" data-simplebar>
                <div class="row">
                    <div class="col-sm-12">
                        <div id="rrmDashBoard_GridDetails"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var dates = new Date();
    // var startingDateOfMonth = new Date(dates.getFullYear(), dates.getMonth(), 1);
    // startingDateOfMonth.setFullYear(2021)
    // startingDateOfMonth.setMonth(0)
    // var date = new Date();
    // var currentDate = date.toISOString().slice(0, 10);

    $("#rrm_dashboard_fromDate").dxDateBox({
        type: "date",
        displayFormat: "dd MMM yyyy",
        value: dates
    });

    $("#rrm_dashboard_toDate").dxDateBox({
        type: "date",
        displayFormat: "dd MMM yyyy",
        value: dates
    });


    $(document).ready(function () {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");
        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");
        $("#rrmdashboard_rrmstatshtml").load("components/rrmdashboard/rrmdashboard_rrmstatshtml.html");
        $("#rrmdashboard_recruiterstatshtml").load("components/rrmdashboard/rrmdashboard_recruiterstatshtml.html");
        $("#rrmDashboard_rrmfeeds").load("components/rrmdashboard/rrmDashboard_rrmfeeds.html");
        // getrrmdashboardoverallstats();

        getrrmdashboardoverallstatsFromDateToDate(fromtodateFormat(fromDate), fromtodateFormat(toDate));
        loadRRMDashBoardGridPopup();
        rrmDashboard_overallrrmsummary(fromDate, toDate);
        rrmDashboard_OpenRequirementsSummary(fromDate, toDate);
        rrmDashboard_rrmStartedWorking(fromDate, toDate);
        rrmDashboard_OverallInterviewSummary(fromDate, toDate);
        rrmDashboard_LosingRevenueRequirements(fromDate, toDate);
        rrmDashboard_OverallInterviewAndOffersSummary(fromDate, toDate);
        rrmDashboard_RecruitersSummary(fromDate, toDate);
    })

    function getrrmdashboardoverallstats() {
        var date = new Date();
        var fromDate = fromtodateFormat(date);
        var toDate = fromtodateFormat(date);
        // $('#rrm_dashboard_fromDate').dxDateBox("instance").option("value",fromDate);
        // $('#rrm_dashboard_toDate').dxDateBox("instance").option("value",toDate);

        var filterData = JSON.stringify({
            "IsActive": true,
            "FromDate": fromDate,
            "ToDate": toDate
        });
        callGetListAsync('GetRRMDashboardOverallStats', filterData, function (e) {
            var dashboardData = e[0];
            $("#totalRRMCount").text(dashboardData.TotalactiveRRM)

            $("#L1InterviewsConducted").text(dashboardData.L1interviewsconducted)
            $("#L1InterviewRecommended").text(dashboardData.L1interviewrecommended)
            $("#L1InterviewNotRecommendedCount").text(dashboardData.L1interviewnotrecommended)
            $("#L1InterviewOnHold").text(dashboardData.L1InterviewsOnHold)
            $("#L1InterviewNotAttended").text(dashboardData.L1NotAttended)

            $("#L2InterviewsConducted").text(dashboardData.L2interviewsconducted)
            $("#L2InterviewsRecommended").text(dashboardData.L2interviewrecommended)
            $("#L2InterviewsNotRecommended").text(dashboardData.L2interviewnotrecommended)
            $("#L2InterviewOnHold").text(dashboardData.L2InterviewsOnHold)
            $("#L2InterviewNotAttended").text(dashboardData.L2NotAttended)

            $("#OfferAccepted").text(dashboardData.Offersaccepted)
            $("#CandidatesOnBoard").text(dashboardData.Condidatesonboard)
            $("#InternalRRM").text(dashboardData.InternalRFP)
            $("#OfferRejected").text(dashboardData.Offersrejected)



        });

    }

    function rrmDashBoardFilter() {
        $("#rrmDashBoardFilter").addClass("activeRRMBoard");
        if ($("#rrmDashBoardToday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardToday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardYesterday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardYesterday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardWeek").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardWeek").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardMonth").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardMonth").removeClass("activeRRMBoard");
        }
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");
        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");
        getrrmdashboardoverallstatsFromDateToDate(fromtodateFormat(fromDate), fromtodateFormat(toDate));

        var recruiterId = $(".rrmdashBoardRecruiter").data("employeeid");

        loadMappedRRMDashboard(recruiterId, fromDate, toDate);
        loadProfilesRRMDashBoard(recruiterId, fromDate, toDate);
        loadInterviewsScheduledRRMDashBoard(recruiterId, fromDate, toDate);
        loadOffersDispatchRRMDashBoard(recruiterId, fromDate, toDate);
        loadChartsRRMDashboard(fromDate, toDate);
        loadOnHoldRRMChartsDetails(fromDate, toDate);

        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();

        loadMappedRRMChart(fromDate, toDate);
        loadInterviewsRRMChart(fromDate, toDate);
        loadProfilesRRMChart(fromDate, toDate);
        loadOfferDispatchRRMChart(fromDate, toDate);
        loadInterviewersRRMChart(fromDate, toDate);
        loadOnEnergySpentRRM(fromDate, toDate);
        //chart's function
        rrmDashboard_overallrrmsummary(fromDate, toDate);
        rrmDashboard_OpenRequirementsSummary(fromDate, toDate);
        rrmDashboard_rrmStartedWorking(fromDate, toDate);
        rrmDashboard_OverallInterviewSummary(fromDate, toDate);
        rrmDashboard_LosingRevenueRequirements(fromDate, toDate);
        rrmDashboard_OverallInterviewAndOffersSummary(fromDate, toDate);
        rrmDashboard_RecruitersSummary(fromtodateFormat(fromDate), fromtodateFormat(toDate));
    }

    function rrmDashBoardToday() {
        $("#rrmDashBoardToday").addClass("activeRRMBoard");
        if ($("#rrmDashBoardFilter").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardFilter").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardYesterday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardYesterday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardWeek").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardWeek").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardMonth").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardMonth").removeClass("activeRRMBoard");
        }

        var date = new Date();
        var fromDate = fromtodateFormat(date);
        var toDate = fromtodateFormat(date);
        $('#rrm_dashboard_fromDate').dxDateBox("instance").option("value", fromDate);
        $('#rrm_dashboard_toDate').dxDateBox("instance").option("value", toDate);
        getrrmdashboardoverallstatsFromDateToDate(fromtodateFormat(fromDate), fromtodateFormat(toDate));

        var recruiterId = $(".rrmdashBoardRecruiter").data("employeeid");
        loadMappedRRMDashboard(recruiterId, fromDate, toDate);
        loadProfilesRRMDashBoard(recruiterId, fromDate, toDate);
        loadInterviewsScheduledRRMDashBoard(recruiterId, fromDate, toDate);
        loadOffersDispatchRRMDashBoard(recruiterId, fromDate, toDate);
        loadChartsRRMDashboard(fromDate, toDate);
        loadOnHoldRRMChartsDetails(fromDate, toDate);

        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();

        loadMappedRRMChart(fromDate, toDate);
        loadInterviewsRRMChart(fromDate, toDate);
        loadProfilesRRMChart(fromDate, toDate);
        loadOfferDispatchRRMChart(fromDate, toDate);
        loadInterviewersRRMChart(fromDate, toDate);
        loadOnEnergySpentRRM(fromDate, toDate);
        //chart's function
        rrmDashboard_overallrrmsummary(fromDate, toDate);
        rrmDashboard_OpenRequirementsSummary(fromDate, toDate);
        rrmDashboard_rrmStartedWorking(fromDate, toDate);
        rrmDashboard_OverallInterviewSummary(fromDate, toDate);
        rrmDashboard_LosingRevenueRequirements(fromDate, toDate);
        rrmDashboard_OverallInterviewAndOffersSummary(fromDate, toDate);
        rrmDashboard_RecruitersSummary(fromtodateFormat(fromDate), fromtodateFormat(toDate));
    }

    function rrmDashBoardYesterday() {
        $("#rrmDashBoardYesterday").addClass("activeRRMBoard");
        if ($("#rrmDashBoardToday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardToday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardFilter").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardFilter").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardWeek").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardWeek").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardMonth").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardMonth").removeClass("activeRRMBoard");
        }

        var today = new Date();
        var yesterday = new Date();
        yesterday.setDate(today.getDate() - 1);

        var fromDate = fromtodateFormat(yesterday);
        var toDate = fromtodateFormat(yesterday);

        $('#rrm_dashboard_fromDate').dxDateBox("instance").option("value", fromDate);
        $('#rrm_dashboard_toDate').dxDateBox("instance").option("value", toDate);



        getrrmdashboardoverallstatsFromDateToDate(fromtodateFormat(fromDate), fromtodateFormat(toDate));

        var recruiterId = $(".rrmdashBoardRecruiter").data("employeeid");
        loadMappedRRMDashboard(recruiterId, date, date);
        loadProfilesRRMDashBoard(recruiterId, date, date);
        loadInterviewsScheduledRRMDashBoard(recruiterId, date, date);
        loadOffersDispatchRRMDashBoard(recruiterId, date, date);
        loadChartsRRMDashboard(date, date);
        loadOnHoldRRMChartsDetails(date, date);

        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();

        loadMappedRRMChart(date, date);
        loadInterviewsRRMChart(date, date);
        loadProfilesRRMChart(date, date);
        loadOfferDispatchRRMChart(date, date);
        loadInterviewersRRMChart(date, date);
        loadOnEnergySpentRRM(date, date);

        //chart's function
        rrmDashboard_overallrrmsummary(date, date);
        rrmDashboard_OpenRequirementsSummary(date, date);
        rrmDashboard_rrmStartedWorking(date, date);
        rrmDashboard_OverallInterviewSummary(date, date);
        rrmDashboard_LosingRevenueRequirements(date, date);
        rrmDashboard_OverallInterviewAndOffersSummary(date, date);
        rrmDashboard_RecruitersSummary(fromtodateFormat(fromDate), fromtodateFormat(toDate));
    }

    function rrmDashBoardWeek() {
        $("#rrmDashBoardWeek").addClass("activeRRMBoard");
        if ($("#rrmDashBoardToday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardToday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardYesterday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardYesterday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardFilter").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardFilter").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardMonth").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardMonth").removeClass("activeRRMBoard");
        }
        // var date = new Date;
        // var first = date.getDate() - date.getDay();
        // var last = first + 6;
        // var firstday = new Date(date.setDate(first)).toISOString().slice(0, 10);
        // var lastday = new Date(date.setDate(last)).toISOString().slice(0, 10);
        // $('#rrm_dashboard_fromDate').dxDateBox("instance").option("value",firstday);
        // $('#rrm_dashboard_toDate').dxDateBox("instance").option("value",lastday);
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");
        getrrmdashboardoverallstatsFromDateToDate(fromtodateFormat(fromDate), fromtodateFormat(toDate));

        var recruiterId = $(".rrmdashBoardRecruiter").data("employeeid");
        loadMappedRRMDashboard(recruiterId, firstday, lastday);
        loadProfilesRRMDashBoard(recruiterId, firstday, lastday);
        loadInterviewsScheduledRRMDashBoard(recruiterId, firstday, lastday);
        loadOffersDispatchRRMDashBoard(recruiterId, firstday, lastday);
        loadChartsRRMDashboard(firstday, lastday);
        loadOnHoldRRMChartsDetails(firstday, lastday);

        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();

        loadMappedRRMChart(firstday, lastday);
        loadInterviewsRRMChart(firstday, lastday);
        loadProfilesRRMChart(firstday, lastday);
        loadOfferDispatchRRMChart(firstday, lastday);
        loadInterviewersRRMChart(firstday, lastday);
        loadOnEnergySpentRRM(firstday, lastday);

        //chart's function
        rrmDashboard_overallrrmsummary(firstday, lastday);
        rrmDashboard_OpenRequirementsSummary(firstday, lastday);
        rrmDashboard_rrmStartedWorking(firstday, lastday);
        rrmDashboard_OverallInterviewSummary(firstday, lastday);
        rrmDashboard_LosingRevenueRequirements(firstday, lastday);
        rrmDashboard_OverallInterviewAndOffersSummary(firstday, lastday);
        rrmDashboard_RecruitersSummary(fromtodateFormat(fromDate), fromtodateFormat(toDate));
    }

    function rrmDashBoardMonth() {
        $("#rrmDashBoardMonth").addClass("activeRRMBoard");
        if ($("#rrmDashBoardToday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardToday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardYesterday").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardYesterday").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardWeek").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardWeek").removeClass("activeRRMBoard");
        }

        if ($("#rrmDashBoardFilter").hasClass("activeRRMBoard")) {
            $("#rrmDashBoardFilter").removeClass("activeRRMBoard");
        }
        // var date = new Date();
        // var fromDate = new Date(date.getFullYear(), date.getMonth(), 1);
        // var toDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);
        // $('#rrm_dashboard_fromDate').dxDateBox("instance").option("value",fromDate);
        // $('#rrm_dashboard_toDate').dxDateBox("instance").option("value",toDate);
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");
        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");
        getrrmdashboardoverallstatsFromDateToDate(fromtodateFormat(fromDate), fromtodateFormat(toDate));

        var recruiterId = $(".rrmdashBoardRecruiter").data("employeeid");
        loadMappedRRMDashboard(recruiterId, fromDate, toDate);
        loadProfilesRRMDashBoard(recruiterId, fromDate, toDate);
        loadInterviewsScheduledRRMDashBoard(recruiterId, fromDate, toDate);
        loadOffersDispatchRRMDashBoard(recruiterId, fromDate, toDate);
        loadChartsRRMDashboard(fromDate, toDate);
        loadOnHoldRRMChartsDetails(fromDate, toDate);

        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();

        loadMappedRRMChart(fromDate, toDate);
        loadInterviewsRRMChart(fromDate, toDate);
        loadProfilesRRMChart(fromDate, toDate);
        loadOfferDispatchRRMChart(fromDate, toDate);
        loadInterviewersRRMChart(fromDate, toDate);
        loadOnEnergySpentRRM(fromDate, toDate);
        //chart's function
        rrmDashboard_overallrrmsummary(fromDate, toDate);
        rrmDashboard_OpenRequirementsSummary(fromDate, toDate);
        rrmDashboard_rrmStartedWorking(fromDate, toDate);
        rrmDashboard_OverallInterviewSummary(fromDate, toDate);
        rrmDashboard_LosingRevenueRequirements(fromDate, toDate);
        rrmDashboard_OverallInterviewAndOffersSummary(fromDate, toDate);
        rrmDashboard_RecruitersSummary(fromtodateFormat(fromDate), fromtodateFormat(toDate));
    }
    // rrm charts function start

    //rrmrecruiterdashboard_overallrrmsummary
    function rrmDashboard_overallrrmsummary(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetOpenClosedRRMForDashboard', filterData, function (e) {
            $('#rrmdashboard_overallrrmsummary').dxPieChart({
                palette: 'bright',
                dataSource: e,
                series: [
                    {
                        argumentField: 'rrm',
                        valueField: 'count',
                        label: {
                            visible: true,
                            connector: {
                                visible: true,
                                width: 1,
                            },
                        },
                    },
                ],
                tooltip: {
                    enabled: true,
                    format: {
                        type: 'largeNumber',
                        precision: 1,
                    },
                    customizeTooltip(arg) {
                        return { text: arg.argumentText + " : " + arg.valueText };
                    },
                },
                onPointClick(m) {
                    const point = m.target;
                    var filterDatas = JSON.stringify({
                        "Token": Token,
                        "FromDate": fromDate,
                        "ToDate": toDate,
                        "IsActive": true,
                        "Option": point.argument
                    });
                    callGetListAsync('GetDetailsOpenClosedRRMForDashboard', filterDatas, function (e) {
                        $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                        $("#rrmDashBoardModalLabel").text("Overall RRM Summary")
                        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                    });
                },
                title: 'Overall RRM Summary',
                legend: {
                    orientation: 'horizontal',
                    itemTextPosition: 'right',
                    horizontalAlignment: 'center',
                    verticalAlignment: 'bottom',
                },
            });
        });
    }

    //open requiremens summary
    function rrmDashboard_OpenRequirementsSummary(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetOpenRequirementSummaryRRMForDashboard', filterData, function (e) {
            $('#rrmdashboard_openrequirementssummary').dxChart({
                dataSource: e,
                rotated: true,
                title: {
                    text: "Open Requirements Summary",
                },
                legend: {
                    visible: false,
                },
                onPointClick(m) {
                    const point = m.target;
                    var filterDatas = JSON.stringify({
                        "Token": Token,
                        "FromDate": fromDate,
                        "ToDate": toDate,
                        "IsActive": true,
                        "Option": point.argument
                    });
                    callGetListAsync('GetDetailsOpenRequirementSummaryRRMForDashboard', filterDatas, function (e) {
                        $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                        $("#rrmDashBoardModalLabel").text("Open Requirements Summary")
                        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                    });
                },
                series: {
                    argumentField: 'rrm',
                    valueField: 'count',
                    type: 'bar',
                    color: '#0000FF',
                    label: {
                        visible: true,
                        format: {
                            type: 'fixedPoint',
                            precision: 0,
                        },
                    },
                },
                tooltip: {
                    enabled: true,
                    format: {
                        type: 'largeNumber',
                        precision: 1,
                    },
                    customizeTooltip(arg) {
                        return { text: arg.argumentText + " : " + arg.valueText };
                    },
                },
                valueAxis: {
                    title: {
                        text: 'No of requirements',
                    },
                    position: 'bottom',
                },
            });
        })

    }

    //RRMs (started working)
    function rrmDashboard_rrmStartedWorking(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetWorkingRRMStatusForDashboard', filterData, function (e) {
            $('#rrmdashboard_rrmstartedworking').dxChart({
                dataSource: e,
                rotated: true,
                title: {
                    text: "RRMs(Started Working)",
                },
                legend: {
                    visible: false,
                },
                series: {
                    argumentField: 'rrm',
                    valueField: 'count',
                    type: 'bar',
                    color: '#0000FF',
                    label: {
                        visible: true,
                        format: {
                            type: 'fixedPoint',
                            precision: 0,
                        },
                    },
                },
                onPointClick(m) {
                    const point = m.target;
                    var filterDatas = JSON.stringify({
                        "Token": Token,
                        "FromDate": fromDate,
                        "ToDate": toDate,
                        "IsActive": true,
                        "Option": point.argument
                    });
                    callGetListAsync('GetDetailsWorkingRRMStatusForDashboard', filterDatas, function (e) {
                        $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                        $("#rrmDashBoardModalLabel").text("RRMs(Started Working)")
                        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                    });
                },
                tooltip: {
                    enabled: true,
                    format: {
                        type: 'largeNumber',
                        precision: 1,
                    },
                    customizeTooltip(arg) {
                        return { text: arg.argumentText + " : " + arg.valueText };
                    },
                },
                valueAxis: {
                    title: {
                        text: 'No of requirements',
                    },
                    position: 'bottom',
                },
            });
        })

    }

    //over all interview summary
    function rrmDashboard_OverallInterviewSummary(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetConductedInterviewStatusForDashboard', filterData, function (e) {
            $('#rrmdashboard_overallinterviewsummary').dxPieChart({
                palette: 'bright',
                dataSource: e,
                series: [
                    {
                        argumentField: 'rrm',
                        valueField: 'count',
                        label: {
                            visible: true,
                            connector: {
                                visible: true,
                                width: 1,
                            },
                        },
                    },
                ],
                tooltip: {
                    enabled: true,
                    format: {
                        type: 'largeNumber',
                        precision: 1,
                    },
                    customizeTooltip(arg) {
                        return { text: arg.argumentText + " : " + arg.valueText };
                    },
                },
                onPointClick(m) {
                    const point = m.target;
                    var filterDatas = JSON.stringify({
                        "Token": Token,
                        "FromDate": fromDate,
                        "ToDate": toDate,
                        "IsActive": true,
                        "Option": point.argument
                    });
                    callGetListAsync('GetDetailsConductedInterviewStatusForDashboard', filterDatas, function (e) {
                        $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                        $("#rrmDashBoardModalLabel").text("Overall Interview Summary")
                        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                    });
                },
                title: 'Overall Interview Summary',
                legend: {
                    orientation: 'horizontal',
                    itemTextPosition: 'right',
                    horizontalAlignment: 'center',
                    verticalAlignment: 'bottom',
                },

            });
        })


    }

    //losing revenue requirements
    function rrmDashboard_LosingRevenueRequirements(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetLosingRevenueRequirementsStatusForDashboard', filterData, function (e) {
            $('#rrmdashboard_losingrevenuerequirements').dxPieChart({
                palette: 'bright',
                dataSource: e,
                series: [
                    {
                        argumentField: 'rrm',
                        valueField: 'count',
                        label: {
                            visible: true,
                            connector: {
                                visible: true,
                                width: 1,
                            },
                        },
                    },
                ],
                tooltip: {
                    enabled: true,
                    format: {
                        type: 'largeNumber',
                        precision: 1,
                    },
                    customizeTooltip(arg) {
                        return { text: arg.argumentText + " : " + arg.valueText };
                    },
                },
                onPointClick(m) {
                    const point = m.target;
                    var filterDatas = JSON.stringify({
                        "Token": Token,
                        "FromDate": fromDate,
                        "ToDate": toDate,
                        "IsActive": true,
                        "Option": point.argument
                    });
                    callGetListAsync('GetDetailsLosingRevenueRequirementsStatusForDashboard', filterDatas, function (e) {
                        $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                        $("#rrmDashBoardModalLabel").text("Losing Revenue Requirements")
                        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                    });
                },
                title: 'Losing Revenue Requirements',
                legend: {
                    orientation: 'horizontal',
                    itemTextPosition: 'right',
                    horizontalAlignment: 'center',
                    verticalAlignment: 'bottom',
                },

            });
        })

    }

    //overall interviews and offers summary
    function rrmDashboard_OverallInterviewAndOffersSummary(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetOverallInterviewAndOfferStatusForDashboard', filterData, function (e) {
            $('#rrmdashboard_overallinterviewandofferssummary').dxFunnel({
                dataSource: e,
                title: {
                    text: 'Overall Interview & Offers Summary',
                },
                argumentField: 'rrm',
                valueField: 'count',
                palette: 'Soft Pastel',
                tooltip: {
                    enabled: true,
                    format: 'fixedPoint',
                },
                item: {
                    border: {
                        visible: true,
                    },
                },
                onItemClick(data) {
                    const point = data.item.argument;
                    var filterDatas = JSON.stringify({
                        "Token": Token,
                        "FromDate": fromDate,
                        "ToDate": toDate,
                        "IsActive": true,
                        "Option": point
                    });
                    callGetListAsync('GetDetailsOverallInterviewAndOfferStatusForDashboard', filterDatas, function (e) {
                        $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                        $("#rrmDashBoardModalLabel").text("Overall Interview & Offers Summary")
                        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                    });
                },
                label: {
                    visible: true,
                    position: 'inside',
                    backgroundColor: 'none',
                    customizeText(e) {
                        return `<span style='font-size: 10px'>${e.item.value
                            }`;
                    },
                },
                legend: {
                    visible: true,
                },

            });
        });

    }

    //recruiters summary
    function rrmDashboard_RecruitersSummary(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true
        });
        callGetListAsync('GetRecruiterSummaryForDashboard', filterData, function (e) {
            $('#rrmdashboard_recruiterssummary').dxChart({
                dataSource: e,
                //palette: 'soft',
                palette: ['#800000', '#800080', '#000080', '#004C4D', '#808000', '#c300c3', '#0000FF', '#487F7F', '#b5a642', '#6495ED'],
                title: {
                    text: "Recruiter's Summary",
                },
                commonSeriesSettings: {
                    type: 'bar',
                    argumentField: 'RecruiterName',
                    ignoreEmptyPoints: true,
                    label: {
                        visible: true,
                        format: {
                            type: 'fixedPoint',
                            precision: 0,
                        },
                    },
                },
                series: [
                    { valueField: 'AssginedRRM', name: 'Total RRM Assigned' },
                    //   { valueField: 'L1InterviewsScheduled', name: 'L1 Interview Scheduled' },
                    { valueField: 'L1interviewsconducted', name: 'L1 Interview Conducted' },
                    { valueField: 'L1interviewrecommended', name: 'L1 Interviews Recommended' },
                    { valueField: 'L1interviewnotrecommended', name: 'L1 Interviews Not Recommended' },
                    { valueField: 'L1InterviewsOnHold', name: 'L1 Interviews OnHold' },
                    //{ valueField: 'L1InterviewsRecommended', name: 'L1 Interviews Not Attended' },
                    //{ valueField: 'L2InterviewsScheduled', name: 'L2 Interview Scheduled' },
                    { valueField: 'L2interviewsconducted', name: 'L2 Interview Conducted' },
                    { valueField: 'L2interviewrecommended', name: 'L2 Interviews Recommended' },
                    { valueField: 'L2interviewnotrecommended', name: 'L2 Interviews Not Recommended' },
                    { valueField: 'L2InterviewsOnHold', name: 'L2 Interviews OnHold' },
                    //{ valueField: 'L1InterviewsRecommended', name: 'L2 Interviews Not Attended' },
                    //{ valueField: 'OfferMade', name: 'Offers Made' },
                    { valueField: 'Offersyetaccept', name: 'Offers Dispatched' },

                ],
                tooltip: {
                    enabled: true,
                    format: {
                        type: 'largeNumber',
                       // precision: 1,
                    },
                    customizeTooltip(arg) {
                        return { text: arg.argumentText + " : " + arg.valueText + "\n " + arg.seriesName };
                    },
                },
                valueAxis: {
                    title: {
                        text: 'No of Resources',
                    },
                },
                onPointClick(m) {
                    const point = m.target;
                    var InterviewGroup = "";
                    var Status = "";
                    if (point.series.index == 0) {
                        var filterData = JSON.stringify({
                            "Token": Token,
                            "FromDate": fromDate,
                            "ToDate": toDate,
                            "Status": "ALL",
                            "IsActive": true,
                            "RecruiterId": point.data.RecruiterId
                        });
                        callGetListAsync('GetRRMRecruiterAssignedRRMDetailsOnCountByRecruiterId', filterData, function (e) {

                            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                            $("#rrmDashBoardModalLabel").text("Recruiter's Summary")
                            $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                        });
                    }
                    else if (point.series.index == 9) {
                        var filterDispatchData = JSON.stringify({
                            "Token": Token,
                            "FromDate": fromDate,
                            "ToDate": toDate,
                            "Status": "Dispatch",
                            "IsActive": true,
                            "RecruiterId": point.data.RecruiterId

                            //"Option": point.series.name,
                            // "RecruiterId": point.data.RecruiterId
                        });
                        callGetListAsync('GetRRMRecruiterAssignedRRMDetailsOnCountByRecruiterId', filterDispatchData, function (e) {

                            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                            $("#rrmDashBoardModalLabel").text("Recruiter's Summary")
                            $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                        });
                    }
                    //"Option": point.series.namepoint.series.name,

                    //"Option": point.series.namepoint.series.name,
                    else
                    {
                        if (point.series.index == 1) {
                            InterviewGroup = 'L1Interview',
                                Status = 'Conducted'
                        }
                        else if (point.series.index == 2) {
                            InterviewGroup = 'L1Interview',
                                Status = 'Recommended'
                        }
                        else if (point.series.index == 2) {
                            InterviewGroup = 'L1Interview',
                                Status = 'Recommended'
                        }
                        else if (point.series.index == 2) {
                            InterviewGroup = 'L1Interview',
                                Status = 'Recommended'
                        }
                        else if (point.series.index == 3) {
                            InterviewGroup = 'L1Interview',
                                Status = 'Not-Recommended'
                        }
                        else if (point.series.index == 4) {
                            InterviewGroup = 'L1Interview',
                                Status = 'On-Hold'
                        }
                        else if (point.series.index == 5) {
                            InterviewGroup = 'L2Interview',
                                Status = 'Conducted'
                        }
                        else if (point.series.index == 6) {
                            InterviewGroup = 'L2Interview',
                                Status = 'Recommended'
                        }
                        else if (point.series.index == 7) {
                            InterviewGroup = 'L2Interview',
                                Status = 'Not-Recommended'
                        }
                        else if (point.series.index == 8) {
                            InterviewGroup = 'L2Interview',
                                Status = 'On-Hold'
                        }



                        var filterDatas = JSON.stringify({
                            "Token": Token,
                            "FromDate": fromDate,
                            "ToDate": toDate,
                            "InterviewGroup": InterviewGroup,
                            "Status": Status,
                            "IsActive": true,
                            "RecruiterId": point.data.RecruiterId

                            //"Option": point.series.name,
                            // "RecruiterId": point.data.RecruiterId
                        });
                        callGetListAsync('GetDetailsRecruiterSummaryForDashboard', filterDatas, function (e) {
                            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
                            $("#rrmDashBoardModalLabel").text("Recruiter's Summary")
                            $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
                        });
                    }
                },

                legend: {
                    orientation: 'horizontal',
                    itemTextPosition: 'right',
                    horizontalAlignment: 'center',
                    verticalAlignment: 'bottom',
                    columnCount: 4,
                },
            });
        })

    }
    //chart fn end


    function getrrmdashboardoverallstatsFromDateToDate(fromDate, toDate) {
        var filterData = JSON.stringify({
            "Token": Token,
            "IsActive": true,
            "FromDate": fromDate,
            "ToDate": toDate
        });
        callGetListAsync('GetRRMDashboardOverallStats', filterData, function (e) {
            var dashboardData = e[0];
            $("#totalRRMCount").text(dashboardData.TotalactiveRRM)

            $("#L1InterviewsConducted").text(dashboardData.L1interviewsconducted)
            $("#L1InterviewRecommended").text(dashboardData.L1interviewrecommended)
            $("#L1InterviewNotRecommendedCount").text(dashboardData.L1interviewnotrecommended)
            $("#L1InterviewOnHold").text(dashboardData.L1InterviewsOnHold)
            $("#L1InterviewNotAttended").text(dashboardData.L1NotAttended)

            $("#L2InterviewsConducted").text(dashboardData.L2interviewsconducted)
            $("#L2InterviewsRecommended").text(dashboardData.L2interviewrecommended)
            $("#L2InterviewsNotRecommended").text(dashboardData.L2interviewnotrecommended)
            $("#L2InterviewOnHold").text(dashboardData.L2InterviewsOnHold)
            $("#L2InterviewNotAttended").text(dashboardData.L2NotAttended)

            $("#OfferAccepted").text(dashboardData.Offersaccepted)
            $("#CandidatesOnBoard").text(dashboardData.Condidatesonboard)
            $("#InternalRRM").text(dashboardData.InternalRFP)
            $("#OfferRejected").text(dashboardData.Offersrejected)

        });

    }

    function getRRMDataRRMDashBoard() {

        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);

        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "Status": "ALL",
            "IsActive": true,


        });
        callGetListAsync('GetRRMDetailsOnCount', filterData, function (e) {
            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("Active RRM Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getL1InterviewsConductedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L1Interview",
            "Status": "Conducted",
            "IsActive": true,
        });
        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {
            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L1 Interviews Conducted Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getL1InterviewsRecommendedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L1Interview",
            "Status": "Recommended",
            "IsActive": true,
        });
        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L1 Interviews Recommended Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getL1InterviewsNotRecommendedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L1Interview",
            "Status": "Not-Recommended",
            "IsActive": true,
        });
        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {
            //  L1InterviewsNotRecommendedDetails();

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L1 Interviews Not Recommended Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }


    function getL1InterviewsOnHoldDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L1Interview",
            "Status": "On-Hold",
            "IsActive": true,
        });
        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L1 Interviews On Hold Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }


    function getL1InterviewsNotAttendedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L1Interview",
            "Status": "Candidate Not-Responding",
            "IsActive": true,
        });
        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L1 Interviews Not Attended Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }


    function getL2InterviewsConductedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);

        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L2Interview",
            "Status": "Conducted",
            "IsActive": true,
        });

        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {
            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });

        });

        $("#rrmDashBoardModalLabel").text("RRM L2 Interviews Conducted Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getL2InterviewsRecommendedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L2Interview",
            "Status": "Recommended",
            "IsActive": true,
        });

        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L2 Interviews Recommended Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getL2InterviewsNotRecommendedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L2Interview",
            "Status": "Not-Recommended",
            "IsActive": true,
        });

        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L2 Interviews Not Recommended Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }


    function getL2InterviewsOnHoldDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L2Interview",
            "Status": "On-Hold",
            "IsActive": true,
        });

        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L2 Interviews On Hold Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getL2InterviewsNotAttendedDataRRMDashBoard() {
        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "InterviewGroup": "L2Interview",
            "Status": "Candidate Not-Responding",
            "IsActive": true,
        });

        callGetListAsync('GetInterviewDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("RRM L2 Interview Not Attended Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }


    function getInterviewsOnBoardRRMDashBoard() {

        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);

        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "IsActive": true,
        });
        // callGetListAsync('GetInterviewPassedDetailsOnCount', filterData, function (e) {
        callGetListAsync('GetCandidatesOnBoardDetailsOnCount', filterData, function (e) {
            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("Candidates OnBoard Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }


    function getRRMOffersAcceptedDataRRMDashBoard() {

        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "Status": "Offersaceepted",
            "IsActive": true
        });
        callGetListAsync('GetOfferAcceptedDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("Offers Accepted Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }

    function getRRMOffersRejectedDataRRMDashBoard() {

        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "Status": "Offersrejected",
            "IsActive": true
        });
        callGetListAsync('GetOfferAcceptedDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("Offers Rejected Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }




    function getInternalRRMDashBoard() {

        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);

        var filterData = JSON.stringify({
            "Token": Token,
            "FromDate": fromDate,
            "ToDate": toDate,
            "Status": "InternalRFP",
            "IsActive": true
        });

        callGetListAsync('GetRRMDetailsOnCount', filterData, function (e) {

            $("#rrmDashBoard_GridDetails").dxDataGrid({ dataSource: e });
        });

        $("#rrmDashBoardModalLabel").text("Internal RRM Details")
        $('#rrmDashboardDetailsModal').appendTo('body').modal('show')
    }





    function fromtodateFormat(passDate) {
        var currentDate = new Date(passDate);
        var day = currentDate.getDate();
        var month = currentDate.getMonth() + 1;
        if (day < 10) {
            day = "0" + (day);
        }
        if (month < 10) {
            month = "0" + (month);
        }
        var year = currentDate.getFullYear();
        return fromDate = (month + "/" + day + "/" + year);
    }


    function loadRRMDashBoardGridPopup() {
        var rrmDashBoard = $("#rrmDashBoard_GridDetails").dxDataGrid({
            filterRow: {
                visible: true,
                applyFilter: "auto",
            },
            repaintChangesOnly: true,
            highlightChanges: true,
            showColumnLines: true,
            rowAlternationEnabled: true,
            showRowLines: false,
            export: {
                enabled: true,
                allowExportSelectedData: true,
            },
            searchPanel: {
                visible: true,
                width: 240,
                placeholder: "Search...",
            },
            headerFilter: {
                visible: true,
            },
            selection: {
                mode: "multiple"
            },
            allowColumnReordering: true,
            showBorders: true,
            grouping: {
                autoExpandAll: true,
            },
            pager: {
                showPageSizeSelector: true,
                allowedPageSizes: [5, 10, 15],
                showInfo: true,
            },
            paging: {
                pageSize: 7,
            },
            sorting: {
                mode: "multiple",
            },
            summary: {
                totalItems: [
                    {
                        column: "sno",
                        summaryType: "count",
                    },
                ],
                groupItems: [
                    {
                        column: "sno",
                        summaryType: "count",
                    },
                ],
            },
            columnChooser: {
                enabled: true,
                mode: "select"
            },
            filterPanel: { visible: true },
            allowColumnResizing: true,
            groupPanel: {
                visible: true,
                emptyPanelText: "Drag a column header here to group by that column"
            },


            //     {
            //         dataField: "Requirement",
            //         caption: "Requirement"
            //     },
            //     {
            //         dataField: "Required",
            //         caption: "Required"
            //     },
            //     {
            //         dataField: "Communication",
            //         caption: "Communication",
            //     },
            //     {
            //         dataField: "Priority",
            //         caption: "Priority"
            //     },
            //     {
            //         dataField: "Department",
            //         caption: "Department"
            //     },
            //     {
            //         dataField: "Designation",
            //         caption: "Designation"
            //     },
            //     {
            //         dataField: "ExperiencerequiredInYrs",
            //         caption: "Experience Required In Yrs"
            //     },
            //     {
            //         dataField: "Status",
            //         caption: "Status"
            //     }
            // ]
        });
    }

    $(document).on("click", "#recruitersStatsTab", function (e) {

        var fromDate = $("#rrm_dashboard_fromDate").dxDateBox("instance").option("value");

        var toDate = $("#rrm_dashboard_toDate").dxDateBox("instance").option("value");

        fromDate = fromtodateFormat(fromDate);

        toDate = fromtodateFormat(toDate);


        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();

        loadMappedRRMChart(fromDate, toDate);
        loadInterviewsRRMChart(fromDate, toDate);
        loadProfilesRRMChart(fromDate, toDate);
        loadOfferDispatchRRMChart(fromDate, toDate);
        loadInterviewersRRMChart(fromDate, toDate);

        $(".divDashboardGridDetails").hide();
        $(".divDashboardChart").show();
    });

</script>