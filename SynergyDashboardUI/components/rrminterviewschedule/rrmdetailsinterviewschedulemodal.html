<div class="modal fade" id="RRMDetailsInterviewScheduleModal" role="dialog">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
              <button class="expand modalExpanding"><i class="fas fa-expand" data-toggle="modal"></i></button>
              <h2 class="modal-title"><span>RRM Details - </span>&nbsp;<span id="rrmDetailsInterviewScheduleRRMNo"></span>&nbsp;&nbsp; <span><label id="rrmInterviewScheduleRRM" class="label label-primary m-l-xs"></label></span></h2>
          </div>

          <div class="modal-body" data-simplebar>
            <div class="row">
              <div class="col-md-6">
                <table class='table table-borderless' style='margin-bottom:0px'>
                  <tbody>
                    <tr>
                      <td class="table-label"><b>RRM No</b></td>
                      <td><b>: </b><span id="lbl_rrmDetailsInterviewScheduleRRMNumberTab">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Requirement Name</b></td>
                      <td><b>: </b><span id="lbl_rrmDetailsInterviewScheduleRRMNameTab">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Required For</b></td>
                      <td><b>: </b><span id="lbl_rrmDetailsInterviewScheduleRRMRequiredFor">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Department</b></td>
                      <td><b>: </b><span id="lbl_rrmDetailsInterviewScheduleRRMDepartment">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Designation</b></td>
                      <td><b>: </b><span id="lbl_rrmDetailsInterviewScheduleRRMDesignation">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Experience (Yrs)</b></td>
                      <td><b>: </b><span id="lbl_rrmDetailsInterviewScheduleRRMExperience">Not Available</span></td>
                    </tr>
                  </tbody>
                </table> 
              </div>
              <div class="col-md-6">
                <table class='table table-borderless' style='margin-bottom:0px'>
                  <tbody>                            
                    <tr>
                      <td class="table-label"><b>Plan (A) Information :</b></td>                              
                    </tr>
                    <tr>
                      <td><span id="lbl_rrmDetailsInterviewScheduleRRMPlanA">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Plan (B) Information :</b></td>
                    </tr>
                    <tr>
                      <td><span id="lbl_rrmDetailsInterviewScheduleRRMPlanB">Not Available</span></td>
                    </tr>
                    <tr>
                      <td class="table-label"><b>Skills :</b></td>
                    </tr>
                  </tbody>
                </table> 
                <div id="sdgd_rrmInterviewScheduleSkillsGrid"></div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">Close</button>
          </div>
      </div>
  </div>
</div>

<script>
  // RRM Details for interview schedule

function getRRMDetailsForInterviewSchedule(rrmId){
  $("#RRMDetailsInterviewScheduleModal").appendTo("body").modal("show");
  var filterData2 = JSON.stringify({
      IsActive: true,
      ResourceRequirementId : rrmId
  });
  callGetListSync("GetRRMById", filterData2, function (RRMData) {
    mapRRMDetailsForInterviewSchedule(RRMData[0])
  });
}

function mapRRMDetailsForInterviewSchedule(data){
  if(data.RRMNo != null && data.RRMNo != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMNumberTab").html(data.RRMNo);
      $("#rrmDetailsInterviewScheduleRRMNo").html(data.RRMNo)
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMNumberTab").html("Not Available");
  }
  if(data.RequirementName != null && data.RequirementName != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMNameTab").html(data.RequirementName)
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMNameTab").html("Not Available")
  }
  if(data.RequiredFor != null && data.RequiredFor != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMRequiredFor").html(data.RequiredFor)
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMRequiredFor").html("Not Available")
  }
  if(data.Department != null && data.Department != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMDepartment").html(data.Department)
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMDepartment").html("Not Available")
  }
  if(data.Designation != null && data.Designation != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMDesignation").html(data.Designation)
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMDesignation").html("Not Available")
  }
  if(data.ExperiencerequiredInYrs != null && data.ExperiencerequiredInYrs != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMExperience").html(data.ExperiencerequiredInYrs)
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMExperience").html("Not Available")
  }
  if(data['PlanA-SkillPlanInfo'] != null && data['PlanA-SkillPlanInfo'] != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMPlanA").html(data['PlanA-SkillPlanInfo'])
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMPlanA").html("Not Available")
  }
  if(data['PlanB-SkillPlanInfo'] != null && data['PlanB-SkillPlanInfo'] != ""){
      $("#lbl_rrmDetailsInterviewScheduleRRMPlanB").html(data['PlanB-SkillPlanInfo'])
  }
  else{
      $("#lbl_rrmDetailsInterviewScheduleRRMPlanB").html("Not Available")
  }
  if(data.Status != null && data.Status != ""){
    $("#rrmInterviewScheduleRRM").text(data.Status);
  }
  else{
    $("#rrmInterviewScheduleRRM").text("");
  }
  getRRMInterviewScheduleDataGrid(data.RRMId)
}

function getRRMInterviewScheduleDataGrid(RRMId){
  var filterData = JSON.stringify({
      "ResourceRequirementId": RRMId,
      "IsActive": true,
  });        

  callGetListAsync('GetResourceRequrirementSkill', filterData, function (e) {
      var GetSkillList = e;
      $("#sdgd_rrmInterviewScheduleSkillsGrid").dxDataGrid({
          dataSource: GetSkillList,
          showBorders: true,
          paging: {
              enabled: false
          },
          wordWrapEnabled: true,
          columns: [
              {
                  dataField:"SkillFamily",
                  caption:"Skill Family"
              },
              {
                  dataField:"Skill",
                  caption:"Skill"
              },
              {
                  dataField:"SkillVersion",
                  caption:"Skill Version"
              }
          ],
      });
  })
}
</script>